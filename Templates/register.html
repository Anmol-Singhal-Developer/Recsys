{% extends "base.html" %}
{% block body %}
<div class="container">
  <h2 class="mb-4"> Create Your Account</h2>

  <form method="post" action="{{ url_for('register') }}">
    <div class="form-row">
      <div class="form-group col-md-6">
        <label>First Name </label>
        <input name="first_name" class="form-control" required>
      </div>
      <div class="form-group col-md-6">
        <label>Last Name </label>
        <input name="last_name" class="form-control" required>
      </div>
    </div>

    <div class="form-group">
      <label>Username </label>
      <input name="username" class="form-control" required>
    </div>

    <div class="form-row">
      <div class="form-group col-md-6">
        <label>Password (min 6 characters)</label>
        <input type="password" name="password" minlength="6" id="pw1" class="form-control" required>
      </div>
      <div class="form-group col-md-6">
        <label>Confirm Password </label>
        <input type="password" name="confirm_password" minlength="6" id="pw2" class="form-control" required>
      </div>
    </div>

    <div class="form-group">
      <label>Age </label>
      <input type="number" name="age" min="13" class="form-control" required>
    </div>

    <button type="submit" class="btn btn-primary">Register</button>
  </form>

  <p class="mt-3">Already have an account ? <a href="{{ url_for('login') }}"> Log in here </a>.</p>
</div>

<script>
  const pw1 = document.getElementById('pw1'),
        pw2 = document.getElementById('pw2');

  pw2.addEventListener('input', () => {
    if (pw1.value !== pw2.value) {
      pw2.setCustomValidity("Passwords don't match");
    } else {
      pw2.setCustomValidity("");
    }
  });
</script>
{% endblock %}
